<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>From Chaos to Zen: An Invoice Process Scorecard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Poppins', Helvetica, Arial, Lucida, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
            color: #233d4d;
        }
        
.header {
    background-color: #2b9347;
    padding: 20px;
    color: white;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    width: 100%;
    box-sizing: border-box;
}

.header-content {
    /* max-width: 1400px;  remmoved to get the header more respoosive*/
    margin: 0 auto;
    padding: 0 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 20px;
    text-align: center;
}

.header img {
    max-height: 80px;
    flex-shrink: 0;
}

.header-text {
    flex: 1;
}

.header h1 {
    margin: 0 0 5px 0;
    font-size: 2.2em;
    font-weight: bold;
    color: white;
}

.header p {
    margin: 0;
    font-size: 1.1em;
    opacity: 0.9;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .header-content {
        flex-direction: column;
        text-align: center;
        gap: 15px;
    }
    
    .header-text {
        flex: none;
    }
}

        
       .container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px;
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    box-sizing: border-box;
}
        
        .questions-container {
            flex: 1;
            min-width: 300px;
        }
        
        .chart-summary-container {
            flex: 1;
            min-width: 400px;
        }
        
        .chart-container {
	    text-align: center;
	    height: 425px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
	    border-left: 4px solid #2b9347;
            margin-bottom: 20px;
        }

	.gauge-container {
    		display: flex;
    		flex-direction: column;
    		align-items: center;
   		margin: 20px 0;
	}
        
        .question-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #2b9347;
            margin-bottom: 20px;
        }
        
        .question-card h4 {
            margin: 0 0 15px 0;
            color: #233d4d;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .question-card select {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            background-color: white;
            font-family: 'Poppins', sans-serif;
        }
        
        .question-card select:focus {
            outline: none;
            border-color: #2b9347;
        }
        
        .score-display {
            margin-top: 10px;
            font-weight: bold;
            color: #2b9347;
        }
        
        h2 {
            text-align: center;
            color: #233d4d;
            margin-bottom: 10px;
        }
        
        .summary {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #2b9347;
        }
        
        .summary h3 {
	    text-align: center;
            color: #233d4d;
            margin-top: 0;
        }
        
        @media (max-width: 768px) {
            .container {
                max-width: none;
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
    <div class="container">
    <div class="header-content">
        <img src="https://velocity-insight.com/wp-content/uploads/2021/08/VI_LOGO_large.png" alt="Velocity Insight Logo">
        <div class="header-text">
            <h1>From Chaos to Zen</h1>
            <p>Interactive Electronic Invoice Maturity Framework</p>
        </div>
     </div>
    </div>
</div>

    <div class="container">
        <!-- Column 1: First Four In -->
        <div class="questions-container">
            <h2>First Four In</h2>
            
            <!-- Question 1 -->
            <div class="question-card">
                <h4>1. How does your organization currently track invoice aging?</h4>
                <select id="q1" onchange="updateChart()">
                    <option value="0">0 - We Don't</option>
                    <option value="1" selected>1 - In App aging tracking</option>
                    <option value="2">2 - Aging tracked by user and department</option>
                    <option value="3">3 - Reporting / alerting on aging based on days</option>
                </select>
                <div class="score-display">Score: <span id="score1">1</span></div>
            </div>

            <!-- Question 2 -->
            <div class="question-card">
                <h4>2. Which best describes your organization's invoice approval process?</h4>
                <select id="q2" onchange="updateChart()">
                    <option value="0">0 - None</option>
                    <option value="1" selected>1 - Informal approval processes with minimal KPI tracking</option>
                    <option value="2">2 - Formal approval hierarchies with approval limits</option>
                    <option value="3">3 - Dynamic approval workflows with continuous monitoring and Early Pay</option>
                </select>
                <div class="score-display">Score: <span id="score2">2</span></div>
            </div>

            <!-- Question 3 - Now Pricing Controls -->
            <div class="question-card">
                <h4>3. How does your organization currently track supplier pricing?</h4>
                <select id="q3" onchange="updateChart()">
                    <option value="0">0 - We Don't</option>
                    <option value="1" selected>1 - Reporting from invoice coding</option>
                    <option value="2">2 - Pricebook</option>
                    <option value="3">3 - Electronic Field ticketing with pricebook</option>
                </select>
                <div class="score-display">Score: <span id="score3">0</span></div>
            </div>

            <!-- Question 4 -->
            <div class="question-card">
                <h4>4. Which integration design is set up for your ERP with invoices?</h4>
                <select id="q4" onchange="updateChart()">
                    <option value="0">0 - Manaul Process or CSV upload</option>
                    <option value="1" selected>1 - One way integration for invoice(s) upload to ERP</option>
                    <option value="2">2 - Two-way ERP integration</option>
                    <option value="3">3 - Fully integrated ERP and master data</option>
                </select>
                <div class="score-display">Score: <span id="score4">1</span></div>
            </div>
        </div>

        <!-- Column 2: Last Four Out -->
        <div class="questions-container">
            <h2>Last Four Out</h2>
            
            <!-- Question 5 - Now Disputes Management -->
            <div class="question-card">
                <h4>5. Which best describes your organization's invoice dispute process?</h4>
                <select id="q5" onchange="updateChart()">
                    <option value="0">0 - None</option>
                    <option value="1" selected>1 - Manual disputes by a few users</option>
                    <option value="2">2 - Dispute tracking by user and department</option>
                    <option value="3">3 - Fully automated workflows with exception / duplicate / fraud handling</option>
                </select>
                <div class="score-display">Score: <span id="score5">2</span></div>
            </div>

            <!-- Question 6 - Supplier Engagement -->
            <div class="question-card">
                <h4>6. How many of your suppliers are onboarded for electronic invoicing?</h4>
                <select id="q6" onchange="updateChart()">
                    <option value="0">0 - We Don't</option>
                    <option value="1" selected>1 - &lt;20% suppliers onboarded</option>
                    <option value="2">2 - 20 to 90% supplier onboarding</option>
                    <option value="3">&gt;3 - 90% supplier adoption</option>
                </select>
                <div class="score-display">Score: <span id="score6">2</span></div>
            </div>

            <!-- Question 7 - Reporting -->
            <div class="question-card">
                <h4>7. What invoice reporting is currently in place for your organization?</h4>
                <select id="q7" onchange="updateChart()">
                    <option value="0" selected>0 - None</option>
                    <option value="1">1 - Standard reporting dashboard</option>
                    <option value="2">2 - Reporting for JIB accounting / invoice splits</option>
                    <option value="3">3 - Instant analyst companion tool (AI-assisted)</option>
                </select>
                <div class="score-display">Score: <span id="score7">1</span></div>
            </div>

            <!-- Question 8 -->
            <div class="question-card">
                <h4>8. How does your organization manage suppliers certs and MSAs?</h4>
                <select id="q8" onchange="updateChart()">
                    <option value="0">0 - We Don't</option>
                    <option value="1" selected>1 - Manual tracking of approved supplier management</option>
                    <option value="2">2 - Tools for approved supplier management</option>
                    <option value="3">3 - Supplier management tool integration</option>
                </select>
                <div class="score-display">Score: <span id="score8">1</span></div>
            </div>
        </div>

        <!-- Column 3: Chart and Summary -->
        <div class="chart-summary-container">
            <div class="chart-container">
                <h3>Maturity Assessment Scorecard</h3>
                <canvas id="radarChart"></canvas>
            </div>
            
            <!-- Summary Section -->
            <div class="summary">
                <h3>Assessment Summary</h3>
                    <div class="gauge-container">
  			<canvas id="scoreGauge" width="200" height="100"></canvas>
  			<p style="text-align: center; font-weight: bold; color: #2b9347;">
   			 Score: <span id="gaugeScore">10</span> / 24
  			</p>
		   </div>
                <p><strong>Maturity Level:</strong> <span id="maturityLevel">Beginner</span></p>
                <div id="recommendations"></div>
            </div>
        </div>
    </div>

    <script>
        let chart;
        
        // Initialize the chart
        function initChart() {
            const ctx = document.getElementById('radarChart').getContext('2d');
            
            chart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: [
                        'Aging Tracking',
                        'Approval Workflows', 
                        'Pricing Controls',
                        'ERP Integration',
                        'Disputes Management',
                        'Supplier Engagement',  
                        'Reporting',            
                        'Supplier Management'
                    ],
                    datasets: [{
                        label: 'Current Maturity',
                        data: [1, 2, 0, 1, 2, 2, 1, 1],  
                        backgroundColor: 'rgba(43, 147, 71, 0.2)',
                        borderColor: 'rgba(43, 147, 71, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(43, 147, 71, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(43, 147, 71, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    aspectRatio: 1,
			scales: {
                        r: {
                            beginAtZero: true,
                            max: 3,
                            ticks: {
                                stepSize: 1,
                                callback: function(value) {
                                    const levels = ['None', 'Chaos', 'Better', 'Zen'];
                                    return levels[value] || value;
                                }
                            },
                            pointLabels: {
                                font: {
                                    size: 11
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }
        // gaguge
let gaugeChart;

function initGauge(score = 10) {
    const ctx = document.getElementById('scoreGauge').getContext('2d');
    const maxScore = 24;

    const data = {
        labels: ['Score', 'Remaining'],
        datasets: [{
            data: [score, maxScore - score],
            backgroundColor: ['#2b9347', '#e0e0e0'],
            hoverBackgroundColor: ['#2b9347', '#e0e0e0'],
            borderWidth: 0,
            circumference: 180,
            rotation: 270,
            cutout: '70%'
        }]
    };

    const options = {
        responsive: false,
        plugins: {
            legend: { display: false },
            tooltip: { enabled: false }
        }
    };

    if (gaugeChart) gaugeChart.destroy();

    gaugeChart = new Chart(ctx, {
        type: 'doughnut',
        data: data,
        options: options
    });

    // Update the text label below it
    document.getElementById('gaugeScore').textContent = score;
}

        // Update chart and calculations
        function updateChart() {
            const scores = [];
            const scoreElements = [];
            
            for (let i = 1; i <= 8; i++) {
                const select = document.getElementById(`q${i}`);
                const score = parseInt(select.value);
                scores.push(score);
                
                const scoreElement = document.getElementById(`score${i}`);
                scoreElement.textContent = score;
                scoreElements.push(scoreElement);
            }
            
            // Update chart data with new order
            chart.data.datasets[0].data = scores;
            chart.update();
            
            // Calculate total score
            const totalScore = scores.reduce((sum, score) => sum + score, 0);
            initGauge(totalScore); // Updates the gauge
            
            // Determine maturity level
            let maturityLevel;
            if (totalScore <= 8) {
                maturityLevel = 'Chaos';
            } else if (totalScore <= 16) {
                maturityLevel = 'Better';
            } else {
                maturityLevel = 'Zen';
            }
            document.getElementById('maturityLevel').textContent = maturityLevel;
            
            // Generate recommendations
            generateRecommendations(scores);
        }
        
        // Generate personalized recommendations
        function generateRecommendations(scores) {
            const areas = [
                'Aging Tracking', 'Approval Workflows', 'Pricing Controls',
                'ERP Integration', 'Disputes Management', 'Supplier Engagement',
                'Reporting', 'Supplier Management'
            ];
            
            const recommendations = [];
            
            scores.forEach((score, index) => {
                if (score === 0) {
                    recommendations.push(`<strong>Priority:</strong> Implement basic ${areas[index]} capabilities`);
                } else if (score === 1) {
                    recommendations.push(`<strong>Improve:</strong> Enhance ${areas[index]} with more advanced features`);
                }
            });
            
            if (recommendations.length === 0) {
                recommendations.push('<strong>Excellent!</strong> Your organization shows strong maturity across all areas.');
            }
            
            document.getElementById('recommendations').innerHTML = 
                '<h4>Recommendations:</h4><ul>' + 
                recommendations.map(rec => `<li>${rec}</li>`).join('') + 
                '</ul>';
        }
        
        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initChart();
            updateChart(); // Initial calculation
        });
    </script>
</body>
</html>
